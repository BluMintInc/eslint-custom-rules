# @blumintinc/eslint-plugin-blumint

Custom eslint rules for use at BluMint

## Installation

You'll first need to install [ESLint](https://eslint.org/):

```sh
npm i eslint --save-dev
```

Next, install `@blumintinc/eslint-plugin-blumint`:

```sh
npm install @blumintinc/eslint-plugin-blumint --save-dev
```

## Usage

Add `@blumintinc/blumint` to the plugins section of your `.eslintrc` configuration file. You can omit the `eslint-plugin-` prefix:

```json
{
    "plugins": [
        "@blumintinc/blumint"
    ]
}
```


Then configure the rules you want to use under the rules section.

```json
{
    "rules": {
        "blumint/rule-name": "error"
    }
}
```

Or use the recommended config:

```json
{
    "extends": ["some-other-plugin", "plugin:@blumintinc/blumint/recommended"]
}
```

## Rules

<!-- begin auto-generated rules list -->

💼 Configurations enabled in.\
⚠️ Configurations set to warn in.\
✅ Set in the `recommended` configuration.\
🔧 Automatically fixable by the [`--fix` CLI option](https://eslint.org/docs/user-guide/command-line-interface#--fix).\
💭 Requires [type information](https://typescript-eslint.io/linting/typed-linting).

| Name                                                                                                     | Description                                                                                                                                                                                                                                                                                                                                                                                                 | 💼 | ⚠️ | 🔧 | 💭 |
| :------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :- | :- | :- | :- |
| [array-methods-this-context](docs/rules/array-methods-this-context.md)                                   | Prevent misuse of Array methods in OOP                                                                                                                                                                                                                                                                                                                                                                      | ✅  |    |    |    |
| [avoid-utils-directory](docs/rules/avoid-utils-directory.md)                                             | Enforce using util/ instead of utils/ directory                                                                                                                                                                                                                                                                                                                                                             | ✅  |    | 🔧 |    |
| [class-methods-read-top-to-bottom](docs/rules/class-methods-read-top-to-bottom.md)                       | Ensures classes read linearly from top to bottom.                                                                                                                                                                                                                                                                                                                                                           | ✅  |    | 🔧 |    |
| [consistent-callback-naming](docs/rules/consistent-callback-naming.md)                                   | Enforce consistent naming conventions for callback props and functions                                                                                                                                                                                                                                                                                                                                      | ✅  |    | 🔧 |    |
| [dynamic-https-errors](docs/rules/dynamic-https-errors.md)                                               | Dynamic error details should only be in the third argument of the HttpsError constructor. The second argument is hashed to produce a unique id.                                                                                                                                                                                                                                                             | ✅  |    |    |    |
| [enforce-assert-throws](docs/rules/enforce-assert-throws.md)                                             | Enforce that functions with assert- prefix must throw an error or call process.exit(1)                                                                                                                                                                                                                                                                                                                      | ✅  |    |    |    |
| [enforce-assertSafe-object-key](docs/rules/enforce-assertSafe-object-key.md)                             | Enforce the use of assertSafe(id) when accessing object properties with computed keys that involve string interpolation or explicit string conversion.                                                                                                                                                                                                                                                      | ✅  |    | 🔧 |    |
| [enforce-callable-types](docs/rules/enforce-callable-types.md)                                           | Enforce Params and Response type exports in callable functions                                                                                                                                                                                                                                                                                                                                              | ✅  |    |    |    |
| [enforce-callback-memo](docs/rules/enforce-callback-memo.md)                                             | Enforce useCallback for inline functions and useMemo for objects/arrays containing functions in JSX props to prevent unnecessary re-renders. This improves React component performance by ensuring stable function references across renders and memoizing complex objects.                                                                                                                                 | ✅  |    |    |    |
| [enforce-centralized-mock-firestore](docs/rules/enforce-centralized-mock-firestore.md)                   | Enforce usage of centralized mockFirestore from predefined location                                                                                                                                                                                                                                                                                                                                         | ✅  |    | 🔧 |    |
| [enforce-dynamic-firebase-imports](docs/rules/enforce-dynamic-firebase-imports.md)                       | Enforce dynamic importing for modules within the firebaseCloud directory to optimize initial bundle size. This ensures Firebase-related code is only loaded when needed, improving application startup time and reducing the main bundle size.                                                                                                                                                              | ✅  |    |    |    |
| [enforce-exported-function-types](docs/rules/enforce-exported-function-types.md)                         | Enforce exporting types for function props and return values                                                                                                                                                                                                                                                                                                                                                | ✅  |    |    |    |
| [enforce-firestore-doc-ref-generic](docs/rules/enforce-firestore-doc-ref-generic.md)                     | Enforce generic argument for Firestore DocumentReference, CollectionReference and CollectionGroup                                                                                                                                                                                                                                                                                                           | ✅  |    |    | 💭 |
| [enforce-firestore-facade](docs/rules/enforce-firestore-facade.md)                                       | Enforce usage of Firestore facades instead of direct Firestore methods                                                                                                                                                                                                                                                                                                                                      | ✅  |    |    |    |
| [enforce-firestore-path-utils](docs/rules/enforce-firestore-path-utils.md)                               | Enforce usage of utility functions for Firestore paths to ensure type safety, maintainability, and consistent path construction. This prevents errors from manual string concatenation and makes path changes easier to manage.                                                                                                                                                                             | ✅  |    |    |    |
| [enforce-firestore-set-merge](docs/rules/enforce-firestore-set-merge.md)                                 | Enforce using set() with { merge: true } instead of update() for Firestore operations to ensure consistent behavior. The update() method fails if the document does not exist, while set() with { merge: true } creates the document if needed and safely merges fields, making it more reliable and predictable.                                                                                           | ✅  |    | 🔧 |    |
| [enforce-identifiable-firestore-type](docs/rules/enforce-identifiable-firestore-type.md)                 | Enforce that Firestore type definitions extend Identifiable and match their folder name                                                                                                                                                                                                                                                                                                                     | ✅  |    |    |    |
| [enforce-memoize-async](docs/rules/enforce-memoize-async.md)                                             | Enforce @Memoize() decorator on async methods with 0-1 parameters to cache results and prevent redundant API calls or expensive computations. This improves performance by reusing previous results when the same parameters are provided, particularly useful for data fetching methods.                                                                                                                   | ✅  |    | 🔧 |    |
| [enforce-microdiff](docs/rules/enforce-microdiff.md)                                                     | Enforce using microdiff for object and array comparison operations                                                                                                                                                                                                                                                                                                                                          | ✅  |    | 🔧 |    |
| [enforce-mock-firestore](docs/rules/enforce-mock-firestore.md)                                           | Enforce using the standardized mockFirestore utility instead of manual Firestore mocking or third-party mocks. This ensures consistent test behavior across the codebase, reduces boilerplate, and provides type-safe mocking of Firestore operations.                                                                                                                                                      | ✅  |    |    |    |
| [enforce-object-literal-as-const](docs/rules/enforce-object-literal-as-const.md)                         | Enforce that object literals returned from functions should be marked with `as const` to ensure type safety and immutability.                                                                                                                                                                                                                                                                               | ✅  |    | 🔧 |    |
| [enforce-positive-naming](docs/rules/enforce-positive-naming.md)                                         | Enforce positive variable naming patterns and avoid negative naming                                                                                                                                                                                                                                                                                                                                         | ✅  |    |    |    |
| [enforce-props-argument-name](docs/rules/enforce-props-argument-name.md)                                 | Enforce using "Props" suffix in type names for parameter objects                                                                                                                                                                                                                                                                                                                                            | ✅  |    | 🔧 |    |
| [enforce-realtimedb-path-utils](docs/rules/enforce-realtimedb-path-utils.md)                             | Enforce usage of utility functions for Realtime Database paths                                                                                                                                                                                                                                                                                                                                              | ✅  |    |    |    |
| [enforce-render-hits-memoization](docs/rules/enforce-render-hits-memoization.md)                         | Enforce proper memoization and usage of useRenderHits and renderHits                                                                                                                                                                                                                                                                                                                                        | ✅  |    |    |    |
| [enforce-safe-stringify](docs/rules/enforce-safe-stringify.md)                                           | Enforce using safe-stable-stringify instead of JSON.stringify to handle circular references and ensure deterministic output. JSON.stringify can throw errors on circular references and produce inconsistent output for objects with the same properties in different orders. safe-stable-stringify handles these cases safely.                                                                             | ✅  |    | 🔧 |    |
| [enforce-serializable-params](docs/rules/enforce-serializable-params.md)                                 | Enforce serializable parameters in Firebase Callable/HTTPS Cloud Functions to prevent runtime errors. Firebase Functions can only pass JSON-serializable data, so using non-serializable types like Date, DocumentReference, or Map will cause failures. Use primitive types, plain objects, and arrays instead, converting complex types to their serializable representations (e.g., Date to ISO string). | ✅  |    |    |    |
| [enforce-timestamp-now](docs/rules/enforce-timestamp-now.md)                                             | Enforce the use of Timestamp.now() for getting the current timestamp in backend code. This rule prevents using alternatives like Timestamp.fromDate(new Date()) or other date creation patterns that could lead to inconsistency.                                                                                                                                                                           | ✅  |    | 🔧 |    |
| [enforce-verb-noun-naming](docs/rules/enforce-verb-noun-naming.md)                                       | Enforce verb phrases for functions and methods                                                                                                                                                                                                                                                                                                                                                              | ✅  |    |    |    |
| [export-if-in-doubt](docs/rules/export-if-in-doubt.md)                                                   | All top-level const definitions, type definitions, and functions should be exported                                                                                                                                                                                                                                                                                                                         |    |    |    |    |
| [extract-global-constants](docs/rules/extract-global-constants.md)                                       | Extract static constants and functions to the global scope when possible, and enforce type narrowing with as const for numeric literals in loops                                                                                                                                                                                                                                                            | ✅  |    |    |    |
| [generic-starts-with-t](docs/rules/generic-starts-with-t.md)                                             | Enforce TypeScript generic types to start with T                                                                                                                                                                                                                                                                                                                                                            | ✅  |    |    |    |
| [global-const-style](docs/rules/global-const-style.md)                                                   | Enforce UPPER_SNAKE_CASE and as const for global static constants                                                                                                                                                                                                                                                                                                                                           | ✅  |    | 🔧 |    |
| [no-always-true-false-conditions](docs/rules/no-always-true-false-conditions.md)                         | Detect conditions that are always truthy or always falsy                                                                                                                                                                                                                                                                                                                                                    | ✅  |    |    |    |
| [no-async-array-filter](docs/rules/no-async-array-filter.md)                                             | Disallow async callbacks in Array.filter() as they lead to incorrect filtering. Since async functions return Promises which are always truthy, the filter will keep all elements regardless of the async check's result. Use Promise.all() with map() first, then filter based on the resolved results.                                                                                                     | ✅  |    |    |    |
| [no-async-foreach](docs/rules/no-async-foreach.md)                                                       | Disallow Array.forEach with an async callback function as it does not wait for promises to resolve. This can lead to race conditions and unexpected behavior. Use a standard for...of loop for sequential execution or Promise.all with map for concurrent execution.                                                                                                                                       | ✅  |    |    |    |
| [no-class-instance-destructuring](docs/rules/no-class-instance-destructuring.md)                         | Disallow destructuring of class instances to prevent loss of `this` context                                                                                                                                                                                                                                                                                                                                 | ✅  |    | 🔧 |    |
| [no-complex-cloud-params](docs/rules/no-complex-cloud-params.md)                                         | Disallow passing complex objects to cloud functions                                                                                                                                                                                                                                                                                                                                                         | ✅  |    |    |    |
| [no-compositing-layer-props](docs/rules/no-compositing-layer-props.md)                                   | Warn when using CSS properties that trigger compositing layers, which can impact performance. Properties like transform, opacity, filter, and will-change create new GPU layers. While sometimes beneficial for animations, excessive layer creation can increase memory usage and hurt performance. Consider alternatives or explicitly document intentional layer promotion.                              | ✅  |    |    |    |
| [no-conditional-literals-in-jsx](docs/rules/no-conditional-literals-in-jsx.md)                           | Disallow use of conditional literals in JSX code                                                                                                                                                                                                                                                                                                                                                            | ✅  |    |    |    |
| [no-entire-object-hook-deps](docs/rules/no-entire-object-hook-deps.md)                                   | Avoid using entire objects in React hook dependency arrays when only specific fields are used, as this can cause unnecessary re-renders. When a hook only uses obj.name but obj is in the deps array, any change to obj.age will trigger the hook. Use individual fields (obj.name) instead of the entire object. Requires TypeScript and `parserOptions.project` to be configured.                         | ✅  |    | 🔧 | 💭 |
| [no-explicit-return-type](docs/rules/no-explicit-return-type.md)                                         | Disallow explicit return type annotations on functions when TypeScript can infer them. This reduces code verbosity and maintenance burden while leveraging TypeScript's powerful type inference. Exceptions are made for type guard functions (using the `is` keyword), recursive functions, overloaded functions, interface methods, and abstract methods where explicit types improve clarity.            | ✅  |    | 🔧 |    |
| [no-filter-without-return](docs/rules/no-filter-without-return.md)                                       | Disallow Array.filter callbacks without an explicit return (if part of a block statement)                                                                                                                                                                                                                                                                                                                   | ✅  |    |    |    |
| [no-firestore-jest-mock](docs/rules/no-firestore-jest-mock.md)                                           | Prevent importing firestore-jest-mock in test files                                                                                                                                                                                                                                                                                                                                                         | ✅  |    | 🔧 |    |
| [no-firestore-object-arrays](docs/rules/no-firestore-object-arrays.md)                                   | Disallow arrays of objects in Firestore type definitions to optimize performance and avoid unnecessary fetches                                                                                                                                                                                                                                                                                              |    | ✅  |    |    |
| [no-hungarian](docs/rules/no-hungarian.md)                                                               | Disallow Hungarian notation in variable names                                                                                                                                                                                                                                                                                                                                                               | ✅  |    | 🔧 |    |
| [no-jsx-in-hooks](docs/rules/no-jsx-in-hooks.md)                                                         | Prevent hooks from returning JSX                                                                                                                                                                                                                                                                                                                                                                            | ✅  |    |    |    |
| [no-jsx-whitespace-literal](docs/rules/no-jsx-whitespace-literal.md)                                     | Disallow the use of {" "} elements in JSX code                                                                                                                                                                                                                                                                                                                                                              | ✅  |    |    |    |
| [no-memoize-on-static](docs/rules/no-memoize-on-static.md)                                               | Prevent using @Memoize() decorator on static methods                                                                                                                                                                                                                                                                                                                                                        | ✅  |    |    |    |
| [no-misused-switch-case](docs/rules/no-misused-switch-case.md)                                           | Prevent misuse of logical OR (\|\|) in switch case statements, which can lead to confusing and error-prone code. Instead of using OR operators in case expressions, use multiple case statements in sequence to handle multiple values. This improves code readability and follows the standard switch-case pattern.                                                                                        | ✅  |    |    |    |
| [no-mixed-firestore-transactions](docs/rules/no-mixed-firestore-transactions.md)                         | Prevent mixing transactional and non-transactional Firestore operations within a transaction                                                                                                                                                                                                                                                                                                                | ✅  |    |    |    |
| [no-mock-firebase-admin](docs/rules/no-mock-firebase-admin.md)                                           | Prevent mocking of functions/src/config/firebaseAdmin                                                                                                                                                                                                                                                                                                                                                       | ✅  |    |    |    |
| [no-redundant-param-types](docs/rules/no-redundant-param-types.md)                                       | Disallow redundant parameter type annotations                                                                                                                                                                                                                                                                                                                                                               | ✅  |    | 🔧 |    |
| [no-type-assertion-returns](docs/rules/no-type-assertion-returns.md)                                     | Enforce typing variables before returning them, rather than using type assertions or explicit return types                                                                                                                                                                                                                                                                                                  | ✅  |    | 🔧 |    |
| [no-unnecessary-verb-suffix](docs/rules/no-unnecessary-verb-suffix.md)                                   | Prevent unnecessary verb suffixes in function and method names                                                                                                                                                                                                                                                                                                                                              | ✅  |    | 🔧 |    |
| [no-unpinned-dependencies](docs/rules/no-unpinned-dependencies.md)                                       | Enforces pinned dependencies                                                                                                                                                                                                                                                                                                                                                                                | ✅  |    | 🔧 |    |
| [no-unsafe-firestore-spread](docs/rules/no-unsafe-firestore-spread.md)                                   | Prevent unsafe object/array spreads in Firestore updates                                                                                                                                                                                                                                                                                                                                                    | ✅  |    | 🔧 |    |
| [no-unused-props](docs/rules/no-unused-props.md)                                                         | Detect unused props in React component type definitions                                                                                                                                                                                                                                                                                                                                                     | ✅  |    | 🔧 |    |
| [no-unused-usestate](docs/rules/no-unused-usestate.md)                                                   | Disallow unused useState hooks                                                                                                                                                                                                                                                                                                                                                                              | ✅  |    | 🔧 |    |
| [no-useless-fragment](docs/rules/no-useless-fragment.md)                                                 | Prevent unnecessary use of React fragments                                                                                                                                                                                                                                                                                                                                                                  |    |    | 🔧 |    |
| [prefer-batch-operations](docs/rules/prefer-batch-operations.md)                                         | Enforce using setAll() and overwriteAll() instead of multiple set() or overwrite() calls                                                                                                                                                                                                                                                                                                                    | ✅  |    | 🔧 |    |
| [prefer-clone-deep](docs/rules/prefer-clone-deep.md)                                                     | Prefer using cloneDeep over nested spread copying                                                                                                                                                                                                                                                                                                                                                           | ✅  |    | 🔧 |    |
| [prefer-destructuring-no-class](docs/rules/prefer-destructuring-no-class.md)                             | Enforce destructuring when accessing object properties, except for class instances                                                                                                                                                                                                                                                                                                                          | ✅  |    | 🔧 |    |
| [prefer-fragment-component](docs/rules/prefer-fragment-component.md)                                     | Enforce using Fragment imported from react over shorthand fragments and React.Fragment                                                                                                                                                                                                                                                                                                                      | ✅  |    | 🔧 |    |
| [prefer-fragment-shorthand](docs/rules/prefer-fragment-shorthand.md)                                     | Prefer <> shorthand for <React.Fragment>                                                                                                                                                                                                                                                                                                                                                                    |    |    | 🔧 |    |
| [prefer-global-router-state-key](docs/rules/prefer-global-router-state-key.md)                           | Enforce using global constants or type-safe functions for useRouterState key parameter                                                                                                                                                                                                                                                                                                                      |    | ✅  |    |    |
| [prefer-settings-object](docs/rules/prefer-settings-object.md)                                           | Enforce using a settings object for functions with multiple parameters                                                                                                                                                                                                                                                                                                                                      | ✅  |    | 🔧 |    |
| [prefer-type-over-interface](docs/rules/prefer-type-over-interface.md)                                   | Prefer using type alias over interface                                                                                                                                                                                                                                                                                                                                                                      | ✅  |    | 🔧 |    |
| [prefer-utility-function-over-private-static](docs/rules/prefer-utility-function-over-private-static.md) | Enforce abstraction of private static methods into utility functions                                                                                                                                                                                                                                                                                                                                        | ✅  |    |    |    |
| [react-usememo-should-be-component](docs/rules/react-usememo-should-be-component.md)                     | Enforce that useMemo hooks returning React nodes should be abstracted into separate React components                                                                                                                                                                                                                                                                                                        | ✅  |    |    |    |
| [require-dynamic-firebase-imports](docs/rules/require-dynamic-firebase-imports.md)                       | Enforce dynamic imports for Firebase dependencies                                                                                                                                                                                                                                                                                                                                                           | ✅  |    | 🔧 |    |
| [require-hooks-default-params](docs/rules/require-hooks-default-params.md)                               | Enforce React hooks with optional parameters to default to an empty object                                                                                                                                                                                                                                                                                                                                  | ✅  |    | 🔧 |    |
| [require-https-error](docs/rules/require-https-error.md)                                                 | Enforce using proprietary HttpsError instead of throw new Error or firebase-admin HttpsError in functions/src                                                                                                                                                                                                                                                                                               | ✅  |    |    |    |
| [require-image-optimized](docs/rules/require-image-optimized.md)                                         | Enforce using ImageOptimized component instead of next/image or img tags                                                                                                                                                                                                                                                                                                                                    | ✅  |    | 🔧 |    |
| [require-memo](docs/rules/require-memo.md)                                                               | React components must be memoized                                                                                                                                                                                                                                                                                                                                                                           | ✅  |    | 🔧 |    |
| [require-usememo-object-literals](docs/rules/require-usememo-object-literals.md)                         | Enforce using useMemo for inline object/array literals passed as props to JSX components to prevent unnecessary re-renders. When object/array literals are defined inline in JSX, they create new references on every render, causing child components to re-render even if the values haven't changed. Wrap them in useMemo to maintain referential equality.                                              | ✅  |    |    |    |
| [semantic-function-prefixes](docs/rules/semantic-function-prefixes.md)                                   | Enforce semantic function prefixes over generic ones like "get" and "update"                                                                                                                                                                                                                                                                                                                                | ✅  |    |    |    |
| [sync-onwrite-name-func](docs/rules/sync-onwrite-name-func.md)                                           | Ensure that the name field matches the func field in onWrite handlers                                                                                                                                                                                                                                                                                                                                       | ✅  |    | 🔧 |    |
| [use-custom-link](docs/rules/use-custom-link.md)                                                         | Enforce using src/components/Link instead of next/link                                                                                                                                                                                                                                                                                                                                                      | ✅  |    | 🔧 |    |
| [use-custom-memo](docs/rules/use-custom-memo.md)                                                         | Enforce using src/util/memo instead of React memo                                                                                                                                                                                                                                                                                                                                                           | ✅  |    | 🔧 |    |
| [use-custom-router](docs/rules/use-custom-router.md)                                                     | Enforce using src/hooks/routing/useRouter instead of next/router                                                                                                                                                                                                                                                                                                                                            | ✅  |    | 🔧 |    |

<!-- end auto-generated rules list -->
